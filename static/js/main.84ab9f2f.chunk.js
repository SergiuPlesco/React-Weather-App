(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{26:function(e,t,c){},28:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(20),r=c.n(s),i=(c(26),c(12)),o=c.n(i),l=c(15),d=c(4),j=c(10),h=c(2),u=(c(28),c(0)),m=function(){return Object(u.jsxs)("div",{className:"forecast",children:[Object(u.jsx)(j.b,{className:"forecast-link",activeClassName:"active",to:"/today",children:Object(u.jsx)("p",{children:"Today"})}),Object(u.jsx)(j.b,{className:"forecast-link",activeClassName:"active",to:"/tomorrow",children:Object(u.jsx)("p",{children:"Tomorrow"})}),Object(u.jsx)(j.b,{className:"forecast-link",activeClassName:"active",to:"/sevendays",children:Object(u.jsx)("p",{children:"7 Days"})})]})},b=function(e){return Object(u.jsx)("div",{className:"search-bar",children:Object(u.jsx)("form",{onSubmit:e.handleSubmit,children:Object(u.jsx)("input",{type:"text",name:"searchText",id:"searchText",placeholder:"Search places...",value:e.inputValue,onChange:e.getSearchInput,onFocus:function(e){e.target.select()}})})})},p=c(8),O=c.n(p),x=function(e){var t=e.weatherDetails,c=Object(a.useState)(O.a.tz(e.timezone).format("DD MMMM, HH:mm:ss")),n=Object(d.a)(c,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){var t=setInterval((function(){r(O.a.tz(e.timezone).format("DD MMMM, HH:mm:ss"))}),1e3);return function(){clearInterval(t)}}),[e.timezone]),Object(u.jsxs)("div",{className:"container",children:[e.geolocationErrorMessage&&Object(u.jsxs)("div",{children:[e.geolocationErrorMessage,", search places..."]}),e.isLoading&&Object(u.jsx)("div",{children:"Loading..."}),e.error&&Object(u.jsxs)("div",{children:[e.error,"..."]}),t&&Object(u.jsxs)("div",{className:"conditions",children:[Object(u.jsx)("div",{className:"date-time",children:Object(u.jsx)("p",{className:"date",children:s})}),Object(u.jsxs)("div",{className:"minmax-wrapper",children:[Object(u.jsxs)("span",{className:"max",children:["Day ",t&&Math.round(Number(t.daily[0].temp.max)),"\u02da\u2191 -"," "]}),Object(u.jsxs)("span",{className:"min",children:["Night ",t&&Math.round(Number(t.daily[0].temp.min)),"\u02da\u2193"]})]}),Object(u.jsxs)("div",{className:"weather-details",children:[Object(u.jsxs)("div",{className:"degrees",children:[Object(u.jsxs)("p",{className:"number",children:[t&&Math.round(Number(t.current.temp)),"\u02daC"]}),Object(u.jsxs)("p",{className:"feels-like",children:["Feels like ",t&&Math.round(Number(t.current.feels_like)),"\u02da"]})]}),Object(u.jsxs)("div",{className:"image",children:[Object(u.jsx)("div",{className:"icon",children:Object(u.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(t&&t.current.weather[0].icon,"@4x.png"),alt:"icon"})}),Object(u.jsx)("p",{className:"description",children:t.current.weather[0].description[0].toUpperCase()+t.current.weather[0].description.slice(1)})]})]})]})]})},f=function(e){var t=e.nextDayWeatherDetails,c=t?t.weather[0].description:"";return Object(u.jsxs)("div",{className:"container",children:[e.geolocationErrorMessage&&Object(u.jsxs)("div",{children:[e.geolocationErrorMessage,", search places..."]}),e.isLoading&&Object(u.jsx)("div",{children:"Loading..."}),e.error&&Object(u.jsxs)("div",{children:[e.error,"..."]}),t&&Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"date-time",children:Object(u.jsx)("span",{className:"date",children:e.nextDayDate})}),Object(u.jsxs)("div",{className:"tomorrow-wrapper",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"minmax-wrapper",children:[Object(u.jsxs)("span",{className:"max",children:["Day ",t&&Math.round(Number(t.temp.max)),"\u02da\u2191 -"," "]}),Object(u.jsxs)("span",{className:"min",children:["Night"," ",t&&Math.round(Number(t.temp.min)),"\u02da\u2193"]})]}),Object(u.jsx)("p",{className:"description",children:c[0].toUpperCase()+c.slice(1)})]}),Object(u.jsx)("div",{className:"image",children:Object(u.jsx)("div",{className:"icon",children:Object(u.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@4x.png"),alt:"icon"})})})]})]})]})},g=function(e){var t=e.dailyForecast;return Object(u.jsxs)("div",{className:"container",children:[e.geolocationErrorMessage&&Object(u.jsxs)("div",{children:[e.geolocationErrorMessage,", search places..."]}),e.isLoading&&Object(u.jsx)("div",{children:"Loading..."}),e.error&&Object(u.jsxs)("div",{children:[e.error,"..."]}),t&&t.map((function(c,a){return Object(u.jsxs)("div",{className:"daily-forecast",children:[Object(u.jsxs)("div",{className:"summary",onClick:function(e){return function(e){e.target.nextElementSibling.classList.toggle("show")}(e)},children:[Object(u.jsxs)("div",{className:"summary-title",children:[Object(u.jsx)("p",{className:"weekday",children:0===a?"Today":"".concat(O()().tz(e.timezone).add(a,"days").format("dddd, DD MMMM"))}),Object(u.jsx)("p",{className:"weekday-description",children:t&&c.weather[0].description.charAt(0).toUpperCase()+c.weather[0].description.slice(1)})]}),Object(u.jsxs)("div",{className:"summary-icon",children:[Object(u.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(c.weather[0].icon,"@2x.png"),alt:"icon"}),Object(u.jsxs)("div",{className:"summary-temp",children:[Object(u.jsxs)("p",{children:[Math.round(Number(c.temp.max)),"\u02da"]}),Object(u.jsxs)("p",{children:[Math.round(Number(c.temp.min)),"\u02da"]})]})]})]}),Object(u.jsx)("div",{className:"details",children:Object(u.jsx)("table",{children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"details-title",children:"Wind:"}),Object(u.jsxs)("td",{className:"details-value",children:[c.wind_speed," km/h"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"details-title",children:"Humidity:"}),Object(u.jsxs)("td",{className:"details-value",children:[c.humidity,"%"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"details-title",children:"UV Index:"}),Object(u.jsx)("td",{className:"details-value",children:Math.round(Number(c.uvi))})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"details-title",children:"Sunrise/sunset:"}),Object(u.jsxs)("td",{className:"details-value",children:["".concat(O.a.unix(Number(c.sunrise)).tz(e.timezone).format("HH:mm")),",","".concat(O.a.unix(Number(c.sunset)).tz(e.timezone).format("HH:mm"))]})]})]})})})]},a)}))]})},v=function(){return Object(u.jsx)("header",{className:"header",children:Object(u.jsx)("p",{children:"Weather App"})})},N=function(){if(navigator.geolocation)return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0,maximumAge:3e4})}))};var w=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(d.a)(s,2),i=r[0],p=r[1],w=Object(a.useState)("false"),y=Object(d.a)(w,2),M=y[0],S=y[1],D=Object(a.useState)(null),k=Object(d.a)(D,2),z=k[0],E=k[1],C=Object(a.useState)(null),L=Object(d.a)(C,2),I=L[0],H=L[1],F=Object(a.useState)(null),A=Object(d.a)(F,2),T=A[0],U=A[1],W=Object(a.useState)(""),R=Object(d.a)(W,2),P=R[0],V=R[1],B=Object(a.useState)(null),J=Object(d.a)(B,2),_=J[0],q=J[1],G=Object(a.useState)(!0),K=Object(d.a)(G,2),Q=K[0],X=K[1],Y=Object(a.useState)(),Z=Object(d.a)(Y,2),$=Z[0],ee=Z[1],te=Object(a.useState)(null),ce=Object(d.a)(te,2),ae=ce[0],ne=ce[1],se=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"b4a0b649139f5b4373159ea93ea91f98",c="http://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&units=metric&appid=").concat("b4a0b649139f5b4373159ea93ea91f98"),e.next=4,fetch(c).then((function(e){if(!e.ok)throw Error("could not fetch, error in cityURL, please enter a city name.");return e.json()})).then((function(e){return V(e.name),e.coord})).catch((function(e){q(e.message),console.log("no city")}));case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(l.a)(o.a.mark((function e(t,c){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"b4a0b649139f5b4373159ea93ea91f98",a="http://api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(c,"&appid=").concat("b4a0b649139f5b4373159ea93ea91f98"),e.next=4,fetch(a).then((function(e){if(!e.ok)throw Error("Could not fetch coord URL");return e.json()})).then((function(e){V(e.name)})).catch((function(e){console.log("".concat(e.message))}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),ie=function(e,t){var c="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&units=metric&appid=").concat("b4a0b649139f5b4373159ea93ea91f98");fetch(c).then((function(e){if(!e.ok)throw Error("Could not fetch data from one call URL");return e.json()})).then((function(e){E(e);var t=O()().tz(e.timezone).add(1,"days").format("dddd, DD MMMM");return ne(t),ee(e.timezone),n(null),q(null),X(!1),console.log(e),e.daily})).then((function(e){return U(e),e[1]})).then((function(e){H(e),q(null),X(!1)})).catch((function(e){console.log("".concat(e.message," ")),q(e.message)}))};return Object(a.useEffect)((function(){sessionStorage.getItem("active")||N().then((function(e){var t=e.coords.latitude,c=e.coords.longitude;re(t,c),ie(t,c),n(null)})).catch((function(e){console.log(e.code),n(e.message),X(!1)})),sessionStorage.getItem("active")&&se(sessionStorage.getItem("city")).then((function(e){ie(e.lat,e.lon),console.log("object")})).catch((function(e){console.log(e.message)}))}),[i]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(v,{}),Object(u.jsx)(b,{inputValue:P,getSearchInput:function(e){V(e.target.value)},handleSubmit:function(e){e.preventDefault(),S(!M),sessionStorage.setItem("active","".concat("active")),sessionStorage.setItem("city",P),p(P)}}),Object(u.jsxs)(j.a,{children:[Object(u.jsx)(m,{}),Object(u.jsxs)(h.d,{children:[Object(u.jsx)(h.b,{path:"/React-Weather-App/",children:Object(u.jsx)(h.a,{to:"/React-Weather-App/today"})}),Object(u.jsx)(h.b,{path:"/today",children:Object(u.jsx)(x,{isLoading:Q,geolocationErrorMessage:c,error:_,weatherDetails:z,timezone:$})}),Object(u.jsx)(h.b,{path:"/tomorrow",children:Object(u.jsx)(f,{isLoading:Q,geolocationErrorMessage:c,error:_,nextDayDate:ae,nextDayWeatherDetails:I})}),Object(u.jsx)(h.b,{path:"/sevendays",children:Object(u.jsx)(g,{isLoading:Q,geolocationErrorMessage:c,error:_,dailyForecast:T,timezone:$})})]})]})]})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,39)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),y()}},[[38,1,2]]]);
//# sourceMappingURL=main.84ab9f2f.chunk.js.map